---
title: "74. Переключатели типов"
date: 2025-10-01
categories: ["Tour of Go"]
weight: 74
draft: false
originalUrl: ""
---

Переключатель типов - это конструкция, которая позволяет выполнять несколько утверждений типа последовательно.

Переключатель типов похож на обычный оператор switch, но case в переключателе типов указывают типы (не значения), и эти значения сравниваются с типом значения, содержащегося в данном значении интерфейса.
```go
switch v := i.(type) {
case T:
// здесь v имеет тип T
case S:
// здесь v имеет тип S
default:
// нет совпадения; здесь v имеет тот же тип, что и i
}
```
Объявление в переключателе типов имеет тот же синтаксис, что и утверждение типа i.(T), но конкретный тип T заменяется ключевым словом type.

Этот оператор switch проверяет, содержит ли значение интерфейса i значение типа T или S. В каждом из случаев T и S переменная v будет иметь тип T или S соответственно и содержать значение из i. В случае default (когда нет совпадения) переменная v имеет тот же тип интерфейса и значение, что и i.

{{< go-playground id="example1" >}}
package main

import "fmt"

func do(i interface{}) {
    switch v := i.(type) {
    case int:
        fmt.Printf("Twice %v is %v\n", v, v*2)
    case string:
        fmt.Printf("%q is %v bytes long\n", v, len(v))
    default:
        fmt.Printf("I don't know about type %T!\n", v)
    }
}

func main() {
    do(21)
    do("hello")
    do(true)
}



{{< /go-playground >}} 