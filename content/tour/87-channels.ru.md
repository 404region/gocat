---
title: "87. Каналы"
date: 2025-10-02
categories: ["Tour of Go"]
weight: 87
draft: false
originalUrl: "https://go.dev/tour/concurrency/2"
---

Каналы представляют собой типизированный проводник, через который можно отправлять и получать значения с помощью оператора канала <-.

ch <- v    // Отправить v в канал ch.
v := <-ch  // Получить из ch и
// присвоить значение v.
(Данные流动ют в направлении стрелки.)

Как и отображения с срезы, каналы должны быть созданы перед использованием:

ch := make(chan int)
По умолчанию отправка и получение блокируются до тех пор, пока другая сторона не будет готова. Это позволяет горутинам синхронизироваться без явных блокировок или переменных условий.

Пример кода суммирует числа в срезе, распределяя работу между двумя горутинами. После завершения вычислений обеими горутинами вычисляется окончательный результат.

{{< go-playground id="example1" >}}
package main

import "fmt"

func sum(s []int, c chan int) {
    sum := 0
    for _, v := range s {
    sum += v
    }
    c <- sum // send sum to c
}

func main() {
    s := []int{7, 2, 8, -9, 4, 0}

	c := make(chan int)
	go sum(s[:len(s)/2], c)
	go sum(s[len(s)/2:], c)
	x, y := <-c, <-c // receive from c

	fmt.Println(x, y, x+y)
}


{{< /go-playground >}} 