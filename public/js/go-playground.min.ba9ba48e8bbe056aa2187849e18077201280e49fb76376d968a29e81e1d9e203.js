async function runGoCode(e){const n=document.getElementById(`go-code-${e}`).value,t=document.getElementById(`output-${e}`);t.textContent="🚀 Запуск...";try{const s=await fetch("https://play.golang.org/compile",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`body=${encodeURIComponent(n)}`}),e=await s.json();if(e.Errors)t.textContent=`❌ Ошибка:
${e.Errors}`;else if(e.Events){let n="";e.Events.forEach(e=>{e.Message&&(n+=e.Message)}),t.textContent=n||"✅ Программа выполнена успешно (нет вывода)"}}catch(e){t.textContent=`❌ Ошибка сети: ${e.message}`}}async function formatGoCode(e){const t=document.getElementById(`go-code-${e}`),n=t.value;try{const s=await fetch("https://play.golang.org/fmt",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`body=${encodeURIComponent(n)}`}),e=await s.json();e.Error?alert(`Ошибка форматирования: ${e.Error}`):t.value=e.Body}catch{alert("Ошибка при форматировании кода")}}function resetGoCode(e){const t=document.getElementById(`go-code-${e}`),n=document.getElementById(`output-${e}`);t.value="",n.textContent=""}function clearOutput(e){document.getElementById(`output-${e}`).textContent=""}function initCodeEditors(){document.querySelectorAll(".go-code-textarea").forEach(e=>{e.addEventListener("keydown",function(e){if(e.key==="Tab"){e.preventDefault();const t=this.selectionStart,n=this.selectionEnd;this.value=this.value.substring(0,t)+"    "+this.value.substring(n),this.selectionStart=this.selectionEnd=t+4}})})}function updateLineNumbers(e){const n=document.getElementById(`go-code-${e}`),s=document.getElementById(`line-numbers-${e}`),o=n.value.split(`
`).length;let t="";for(let e=1;e<=o;e++)t+=e+`
`;s.innerHTML=t}function syncScroll(e){const t=document.getElementById(`go-code-${e}`),n=document.getElementById(`line-numbers-${e}`);n.scrollTop=t.scrollTop}function initCodeEditors(){document.querySelectorAll(".go-code-textarea").forEach(e=>{e.addEventListener("keydown",function(e){if(e.key==="Tab"){e.preventDefault();const t=this.selectionStart,n=this.selectionEnd;this.value=this.value.substring(0,t)+"    "+this.value.substring(n),this.selectionStart=this.selectionEnd=t+4}});const t=e.id.replace("go-code-","");updateLineNumbers(t),e.addEventListener("input",function(){updateLineNumbers(t)}),e.addEventListener("scroll",function(){syncScroll(t)})})}function resetGoCode(e){const t=document.getElementById(`go-code-${e}`),n=document.getElementById(`output-${e}`);t.value="",n.textContent="",updateLineNumbers(e)}document.addEventListener("DOMContentLoaded",initCodeEditors)